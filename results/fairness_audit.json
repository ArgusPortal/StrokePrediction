{
  "threshold": 0.08499999999999999,
  "threshold_source": "validation_calibrated",
  "attributes": [
    {
      "attribute": "Residence_type",
      "support": {
        "validation": {
          "min_pos": 15,
          "min_neg": 356
        },
        "test": {
          "min_pos": 23,
          "min_neg": 472
        }
      },
      "baseline": {
        "validation": {
          "tpr_gap": 0.2848484848484849,
          "tpr_gap_ci": [
            0.023763736263736186,
            0.5800559210526316
          ],
          "metrics": [
            {
              "attribute": "Residence_type",
              "group": "Rural",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 389.0,
              "n_pos": 15.0,
              "n_neg": 374.0,
              "tp": 8.0,
              "fp": 69.0,
              "fn": 7.0,
              "tn": 305.0,
              "pred_pos": 77.0,
              "pred_neg": 312.0,
              "selection_rate": 0.19794344473007713,
              "TPR": 0.5333333333333333,
              "FPR": 0.18449197860962566,
              "PPV": 0.1038961038961039,
              "tpr_ci_low": 0.3,
              "tpr_ci_high": 0.8,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "Residence_type",
              "group": "Urban",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 378.0,
              "n_pos": 22.0,
              "n_neg": 356.0,
              "tp": 18.0,
              "fp": 77.0,
              "fn": 4.0,
              "tn": 279.0,
              "pred_pos": 95.0,
              "pred_neg": 283.0,
              "selection_rate": 0.25132275132275134,
              "TPR": 0.8181818181818182,
              "FPR": 0.21629213483146068,
              "PPV": 0.18947368421052632,
              "tpr_ci_low": 0.65,
              "tpr_ci_high": 0.9583333333333334,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "Residence_type",
              "group": "__GAP__",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": NaN,
              "n_pos": NaN,
              "n_neg": NaN,
              "tp": NaN,
              "fp": NaN,
              "fn": NaN,
              "tn": NaN,
              "pred_pos": NaN,
              "pred_neg": NaN,
              "selection_rate": NaN,
              "TPR": NaN,
              "FPR": NaN,
              "PPV": NaN,
              "tpr_ci_low": NaN,
              "tpr_ci_high": NaN,
              "tpr_gap": 0.2848484848484849,
              "tpr_gap_ci_low": 0.023763736263736186,
              "tpr_gap_ci_high": 0.5800559210526316
            }
          ]
        },
        "test": {
          "tpr_gap": 0.11916264090177131,
          "tpr_gap_ci": [
            0.004830917874396157,
            0.36253230815467846
          ],
          "metrics": [
            {
              "attribute": "Residence_type",
              "group": "Rural",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 495.0,
              "n_pos": 23.0,
              "n_neg": 472.0,
              "tp": 16.0,
              "fp": 87.0,
              "fn": 7.0,
              "tn": 385.0,
              "pred_pos": 103.0,
              "pred_neg": 392.0,
              "selection_rate": 0.2080808080808081,
              "TPR": 0.6956521739130435,
              "FPR": 0.1843220338983051,
              "PPV": 0.1553398058252427,
              "tpr_ci_low": 0.5,
              "tpr_ci_high": 0.88,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "Residence_type",
              "group": "Urban",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 527.0,
              "n_pos": 27.0,
              "n_neg": 500.0,
              "tp": 22.0,
              "fp": 97.0,
              "fn": 5.0,
              "tn": 403.0,
              "pred_pos": 119.0,
              "pred_neg": 408.0,
              "selection_rate": 0.22580645161290322,
              "TPR": 0.8148148148148148,
              "FPR": 0.194,
              "PPV": 0.18487394957983194,
              "tpr_ci_low": 0.6666666666666666,
              "tpr_ci_high": 0.9523809523809523,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "Residence_type",
              "group": "__GAP__",
              "dataset": "test",
              "stage": "baseline",
              "n_total": NaN,
              "n_pos": NaN,
              "n_neg": NaN,
              "tp": NaN,
              "fp": NaN,
              "fn": NaN,
              "tn": NaN,
              "pred_pos": NaN,
              "pred_neg": NaN,
              "selection_rate": NaN,
              "TPR": NaN,
              "FPR": NaN,
              "PPV": NaN,
              "tpr_ci_low": NaN,
              "tpr_ci_high": NaN,
              "tpr_gap": 0.11916264090177131,
              "tpr_gap_ci_low": 0.004830917874396157,
              "tpr_gap_ci_high": 0.36253230815467846
            }
          ]
        }
      },
      "final_stage": {
        "stage": "post_equal_opportunity",
        "validation_tpr_gap": 0.00303030303030305,
        "validation_tpr_gap_ci": [
          0.002105263157894721,
          0.27083507525083617
        ],
        "test_tpr_gap": 0.1497584541062802,
        "test_tpr_gap_ci": [
          0.00766283524904221,
          0.35716654035619555
        ],
        "metrics_validation": [
          {
            "attribute": "Residence_type",
            "group": "Rural",
            "dataset": "validation",
            "stage": "post_equal_opportunity",
            "n_total": 389.0,
            "n_pos": 15.0,
            "n_neg": 374.0,
            "tp": 13.0,
            "fp": 102.0,
            "fn": 2.0,
            "tn": 272.0,
            "pred_pos": 115.0,
            "pred_neg": 274.0,
            "selection_rate": 0.29562982005141386,
            "TPR": 0.8666666666666667,
            "FPR": 0.2727272727272727,
            "PPV": 0.11304347826086956,
            "tpr_ci_low": 0.6666666666666666,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "Residence_type",
            "group": "Urban",
            "dataset": "validation",
            "stage": "post_equal_opportunity",
            "n_total": 378.0,
            "n_pos": 22.0,
            "n_neg": 356.0,
            "tp": 19.0,
            "fp": 90.0,
            "fn": 3.0,
            "tn": 266.0,
            "pred_pos": 109.0,
            "pred_neg": 269.0,
            "selection_rate": 0.28835978835978837,
            "TPR": 0.8636363636363636,
            "FPR": 0.25280898876404495,
            "PPV": 0.1743119266055046,
            "tpr_ci_low": 0.7,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "Residence_type",
            "group": "__GAP__",
            "dataset": "validation",
            "stage": "post_equal_opportunity",
            "n_total": NaN,
            "n_pos": NaN,
            "n_neg": NaN,
            "tp": NaN,
            "fp": NaN,
            "fn": NaN,
            "tn": NaN,
            "pred_pos": NaN,
            "pred_neg": NaN,
            "selection_rate": NaN,
            "TPR": NaN,
            "FPR": NaN,
            "PPV": NaN,
            "tpr_ci_low": NaN,
            "tpr_ci_high": NaN,
            "tpr_gap": 0.00303030303030305,
            "tpr_gap_ci_low": 0.002105263157894721,
            "tpr_gap_ci_high": 0.27083507525083617
          }
        ],
        "metrics_test": [
          {
            "attribute": "Residence_type",
            "group": "Rural",
            "dataset": "test",
            "stage": "post_equal_opportunity",
            "n_total": 495.0,
            "n_pos": 23.0,
            "n_neg": 472.0,
            "tp": 17.0,
            "fp": 151.0,
            "fn": 6.0,
            "tn": 321.0,
            "pred_pos": 168.0,
            "pred_neg": 327.0,
            "selection_rate": 0.3393939393939394,
            "TPR": 0.7391304347826086,
            "FPR": 0.3199152542372881,
            "PPV": 0.10119047619047619,
            "tpr_ci_low": 0.5483137829912023,
            "tpr_ci_high": 0.9090909090909091,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "Residence_type",
            "group": "Urban",
            "dataset": "test",
            "stage": "post_equal_opportunity",
            "n_total": 527.0,
            "n_pos": 27.0,
            "n_neg": 500.0,
            "tp": 24.0,
            "fp": 105.0,
            "fn": 3.0,
            "tn": 395.0,
            "pred_pos": 129.0,
            "pred_neg": 398.0,
            "selection_rate": 0.24478178368121442,
            "TPR": 0.8888888888888888,
            "FPR": 0.21,
            "PPV": 0.18604651162790697,
            "tpr_ci_low": 0.7428341013824885,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "Residence_type",
            "group": "__GAP__",
            "dataset": "test",
            "stage": "post_equal_opportunity",
            "n_total": NaN,
            "n_pos": NaN,
            "n_neg": NaN,
            "tp": NaN,
            "fp": NaN,
            "fn": NaN,
            "tn": NaN,
            "pred_pos": NaN,
            "pred_neg": NaN,
            "selection_rate": NaN,
            "TPR": NaN,
            "FPR": NaN,
            "PPV": NaN,
            "tpr_ci_low": NaN,
            "tpr_ci_high": NaN,
            "tpr_gap": 0.1497584541062802,
            "tpr_gap_ci_low": 0.00766283524904221,
            "tpr_gap_ci_high": 0.35716654035619555
          }
        ]
      },
      "history": [
        {
          "constraint": "true_positive_rate_parity",
          "status": "applied",
          "validation_tpr_gap": 0.00303030303030305,
          "validation_tpr_gap_ci": [
            0.002105263157894721,
            0.27083507525083617
          ],
          "test_tpr_gap": 0.1497584541062802,
          "test_tpr_gap_ci": [
            0.00766283524904221,
            0.35716654035619555
          ]
        },
        {
          "constraint": "equalized_odds",
          "status": "skipped_due_to_data",
          "reason": "insufficient_support"
        }
      ]
    },
    {
      "attribute": "gender",
      "support": {
        "validation": {
          "min_pos": 18,
          "min_neg": 318
        },
        "test": {
          "min_pos": 21,
          "min_neg": 402
        }
      },
      "baseline": {
        "validation": {
          "tpr_gap": 0.03801169590643272,
          "tpr_gap_ci": [
            0.0045204603580563585,
            0.352063230994152
          ],
          "metrics": [
            {
              "attribute": "gender",
              "group": "Female",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 431.0,
              "n_pos": 19.0,
              "n_neg": 412.0,
              "tp": 13.0,
              "fp": 89.0,
              "fn": 6.0,
              "tn": 323.0,
              "pred_pos": 102.0,
              "pred_neg": 329.0,
              "selection_rate": 0.23665893271461716,
              "TPR": 0.6842105263157895,
              "FPR": 0.21601941747572814,
              "PPV": 0.12745098039215685,
              "tpr_ci_low": 0.4666666666666667,
              "tpr_ci_high": 0.8888888888888888,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "gender",
              "group": "Male",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 336.0,
              "n_pos": 18.0,
              "n_neg": 318.0,
              "tp": 13.0,
              "fp": 57.0,
              "fn": 5.0,
              "tn": 261.0,
              "pred_pos": 70.0,
              "pred_neg": 266.0,
              "selection_rate": 0.20833333333333334,
              "TPR": 0.7222222222222222,
              "FPR": 0.1792452830188679,
              "PPV": 0.18571428571428572,
              "tpr_ci_low": 0.5,
              "tpr_ci_high": 0.9230769230769231,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "gender",
              "group": "__GAP__",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": NaN,
              "n_pos": NaN,
              "n_neg": NaN,
              "tp": NaN,
              "fp": NaN,
              "fn": NaN,
              "tn": NaN,
              "pred_pos": NaN,
              "pred_neg": NaN,
              "selection_rate": NaN,
              "TPR": NaN,
              "FPR": NaN,
              "PPV": NaN,
              "tpr_ci_low": NaN,
              "tpr_ci_high": NaN,
              "tpr_gap": 0.03801169590643272,
              "tpr_gap_ci_low": 0.0045204603580563585,
              "tpr_gap_ci_high": 0.352063230994152
            }
          ]
        },
        "test": {
          "tpr_gap": 0.16091954022988508,
          "tpr_gap_ci": [
            0.009047038980509675,
            0.4259920634920634
          ],
          "metrics": [
            {
              "attribute": "gender",
              "group": "Female",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 599.0,
              "n_pos": 29.0,
              "n_neg": 570.0,
              "tp": 24.0,
              "fp": 101.0,
              "fn": 5.0,
              "tn": 469.0,
              "pred_pos": 125.0,
              "pred_neg": 474.0,
              "selection_rate": 0.20868113522537562,
              "TPR": 0.8275862068965517,
              "FPR": 0.17719298245614035,
              "PPV": 0.192,
              "tpr_ci_low": 0.6774193548387096,
              "tpr_ci_high": 0.9565670289855073,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "gender",
              "group": "Male",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 423.0,
              "n_pos": 21.0,
              "n_neg": 402.0,
              "tp": 14.0,
              "fp": 83.0,
              "fn": 7.0,
              "tn": 319.0,
              "pred_pos": 97.0,
              "pred_neg": 326.0,
              "selection_rate": 0.2293144208037825,
              "TPR": 0.6666666666666666,
              "FPR": 0.2064676616915423,
              "PPV": 0.14432989690721648,
              "tpr_ci_low": 0.4583333333333333,
              "tpr_ci_high": 0.8573051948051946,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "gender",
              "group": "__GAP__",
              "dataset": "test",
              "stage": "baseline",
              "n_total": NaN,
              "n_pos": NaN,
              "n_neg": NaN,
              "tp": NaN,
              "fp": NaN,
              "fn": NaN,
              "tn": NaN,
              "pred_pos": NaN,
              "pred_neg": NaN,
              "selection_rate": NaN,
              "TPR": NaN,
              "FPR": NaN,
              "PPV": NaN,
              "tpr_ci_low": NaN,
              "tpr_ci_high": NaN,
              "tpr_gap": 0.16091954022988508,
              "tpr_gap_ci_low": 0.009047038980509675,
              "tpr_gap_ci_high": 0.4259920634920634
            }
          ]
        }
      },
      "final_stage": {
        "stage": "baseline",
        "validation_tpr_gap": 0.03801169590643272,
        "validation_tpr_gap_ci": [
          0.0045204603580563585,
          0.352063230994152
        ],
        "test_tpr_gap": 0.16091954022988508,
        "test_tpr_gap_ci": [
          0.009047038980509675,
          0.4259920634920634
        ],
        "metrics_validation": [
          {
            "attribute": "gender",
            "group": "Female",
            "dataset": "validation",
            "stage": "baseline",
            "n_total": 431.0,
            "n_pos": 19.0,
            "n_neg": 412.0,
            "tp": 13.0,
            "fp": 89.0,
            "fn": 6.0,
            "tn": 323.0,
            "pred_pos": 102.0,
            "pred_neg": 329.0,
            "selection_rate": 0.23665893271461716,
            "TPR": 0.6842105263157895,
            "FPR": 0.21601941747572814,
            "PPV": 0.12745098039215685,
            "tpr_ci_low": 0.4666666666666667,
            "tpr_ci_high": 0.8888888888888888,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "gender",
            "group": "Male",
            "dataset": "validation",
            "stage": "baseline",
            "n_total": 336.0,
            "n_pos": 18.0,
            "n_neg": 318.0,
            "tp": 13.0,
            "fp": 57.0,
            "fn": 5.0,
            "tn": 261.0,
            "pred_pos": 70.0,
            "pred_neg": 266.0,
            "selection_rate": 0.20833333333333334,
            "TPR": 0.7222222222222222,
            "FPR": 0.1792452830188679,
            "PPV": 0.18571428571428572,
            "tpr_ci_low": 0.5,
            "tpr_ci_high": 0.9230769230769231,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "gender",
            "group": "__GAP__",
            "dataset": "validation",
            "stage": "baseline",
            "n_total": NaN,
            "n_pos": NaN,
            "n_neg": NaN,
            "tp": NaN,
            "fp": NaN,
            "fn": NaN,
            "tn": NaN,
            "pred_pos": NaN,
            "pred_neg": NaN,
            "selection_rate": NaN,
            "TPR": NaN,
            "FPR": NaN,
            "PPV": NaN,
            "tpr_ci_low": NaN,
            "tpr_ci_high": NaN,
            "tpr_gap": 0.03801169590643272,
            "tpr_gap_ci_low": 0.0045204603580563585,
            "tpr_gap_ci_high": 0.352063230994152
          }
        ],
        "metrics_test": [
          {
            "attribute": "gender",
            "group": "Female",
            "dataset": "test",
            "stage": "baseline",
            "n_total": 599.0,
            "n_pos": 29.0,
            "n_neg": 570.0,
            "tp": 24.0,
            "fp": 101.0,
            "fn": 5.0,
            "tn": 469.0,
            "pred_pos": 125.0,
            "pred_neg": 474.0,
            "selection_rate": 0.20868113522537562,
            "TPR": 0.8275862068965517,
            "FPR": 0.17719298245614035,
            "PPV": 0.192,
            "tpr_ci_low": 0.6774193548387096,
            "tpr_ci_high": 0.9565670289855073,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "gender",
            "group": "Male",
            "dataset": "test",
            "stage": "baseline",
            "n_total": 423.0,
            "n_pos": 21.0,
            "n_neg": 402.0,
            "tp": 14.0,
            "fp": 83.0,
            "fn": 7.0,
            "tn": 319.0,
            "pred_pos": 97.0,
            "pred_neg": 326.0,
            "selection_rate": 0.2293144208037825,
            "TPR": 0.6666666666666666,
            "FPR": 0.2064676616915423,
            "PPV": 0.14432989690721648,
            "tpr_ci_low": 0.4583333333333333,
            "tpr_ci_high": 0.8573051948051946,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "gender",
            "group": "__GAP__",
            "dataset": "test",
            "stage": "baseline",
            "n_total": NaN,
            "n_pos": NaN,
            "n_neg": NaN,
            "tp": NaN,
            "fp": NaN,
            "fn": NaN,
            "tn": NaN,
            "pred_pos": NaN,
            "pred_neg": NaN,
            "selection_rate": NaN,
            "TPR": NaN,
            "FPR": NaN,
            "PPV": NaN,
            "tpr_ci_low": NaN,
            "tpr_ci_high": NaN,
            "tpr_gap": 0.16091954022988508,
            "tpr_gap_ci_low": 0.009047038980509675,
            "tpr_gap_ci_high": 0.4259920634920634
          }
        ]
      },
      "history": [
        {
          "constraint": "true_positive_rate_parity",
          "status": "skipped_due_to_data",
          "reason": "gap_below_threshold"
        }
      ]
    },
    {
      "attribute": "smoking_status",
      "support": {
        "validation": {
          "min_pos": 7,
          "min_neg": 112
        },
        "test": {
          "min_pos": 8,
          "min_neg": 155
        }
      },
      "baseline": {
        "validation": {
          "tpr_gap": 0.06666666666666665,
          "tpr_gap_ci": [
            0.04761904761904767,
            0.562723214285714
          ],
          "metrics": [
            {
              "attribute": "smoking_status",
              "group": "formerly smoked",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 368.0,
              "n_pos": 15.0,
              "n_neg": 353.0,
              "tp": 11.0,
              "fp": 75.0,
              "fn": 4.0,
              "tn": 278.0,
              "pred_pos": 86.0,
              "pred_neg": 282.0,
              "selection_rate": 0.23369565217391305,
              "TPR": 0.7333333333333333,
              "FPR": 0.21246458923512748,
              "PPV": 0.12790697674418605,
              "tpr_ci_low": 0.5,
              "tpr_ci_high": 0.9375,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "smoking_status",
              "group": "never smoked",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 280.0,
              "n_pos": 15.0,
              "n_neg": 265.0,
              "tp": 10.0,
              "fp": 57.0,
              "fn": 5.0,
              "tn": 208.0,
              "pred_pos": 67.0,
              "pred_neg": 213.0,
              "selection_rate": 0.2392857142857143,
              "TPR": 0.6666666666666666,
              "FPR": 0.21509433962264152,
              "PPV": 0.14925373134328357,
              "tpr_ci_low": 0.42857142857142855,
              "tpr_ci_high": 0.9,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "smoking_status",
              "group": "smokes",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 119.0,
              "n_pos": 7.0,
              "n_neg": 112.0,
              "tp": 5.0,
              "fp": 14.0,
              "fn": 2.0,
              "tn": 98.0,
              "pred_pos": 19.0,
              "pred_neg": 100.0,
              "selection_rate": 0.15966386554621848,
              "TPR": 0.7142857142857143,
              "FPR": 0.125,
              "PPV": 0.2631578947368421,
              "tpr_ci_low": 0.3333333333333333,
              "tpr_ci_high": 1.0,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "smoking_status",
              "group": "__GAP__",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": NaN,
              "n_pos": NaN,
              "n_neg": NaN,
              "tp": NaN,
              "fp": NaN,
              "fn": NaN,
              "tn": NaN,
              "pred_pos": NaN,
              "pred_neg": NaN,
              "selection_rate": NaN,
              "TPR": NaN,
              "FPR": NaN,
              "PPV": NaN,
              "tpr_ci_low": NaN,
              "tpr_ci_high": NaN,
              "tpr_gap": 0.06666666666666665,
              "tpr_gap_ci_low": 0.04761904761904767,
              "tpr_gap_ci_high": 0.562723214285714
            }
          ]
        },
        "test": {
          "tpr_gap": 0.2425629290617849,
          "tpr_gap_ci": [
            0.08291298073906767,
            0.5564896331738436
          ],
          "metrics": [
            {
              "attribute": "smoking_status",
              "group": "formerly smoked",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 468.0,
              "n_pos": 23.0,
              "n_neg": 445.0,
              "tp": 15.0,
              "fp": 78.0,
              "fn": 8.0,
              "tn": 367.0,
              "pred_pos": 93.0,
              "pred_neg": 375.0,
              "selection_rate": 0.1987179487179487,
              "TPR": 0.6521739130434783,
              "FPR": 0.1752808988764045,
              "PPV": 0.16129032258064516,
              "tpr_ci_low": 0.45454545454545453,
              "tpr_ci_high": 0.8400526315789473,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "smoking_status",
              "group": "never smoked",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 391.0,
              "n_pos": 19.0,
              "n_neg": 372.0,
              "tp": 17.0,
              "fp": 75.0,
              "fn": 2.0,
              "tn": 297.0,
              "pred_pos": 92.0,
              "pred_neg": 299.0,
              "selection_rate": 0.23529411764705882,
              "TPR": 0.8947368421052632,
              "FPR": 0.20161290322580644,
              "PPV": 0.18478260869565216,
              "tpr_ci_low": 0.7368421052631579,
              "tpr_ci_high": 1.0,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "smoking_status",
              "group": "smokes",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 163.0,
              "n_pos": 8.0,
              "n_neg": 155.0,
              "tp": 6.0,
              "fp": 31.0,
              "fn": 2.0,
              "tn": 124.0,
              "pred_pos": 37.0,
              "pred_neg": 126.0,
              "selection_rate": 0.22699386503067484,
              "TPR": 0.75,
              "FPR": 0.2,
              "PPV": 0.16216216216216217,
              "tpr_ci_low": 0.39937500000000004,
              "tpr_ci_high": 1.0,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "smoking_status",
              "group": "__GAP__",
              "dataset": "test",
              "stage": "baseline",
              "n_total": NaN,
              "n_pos": NaN,
              "n_neg": NaN,
              "tp": NaN,
              "fp": NaN,
              "fn": NaN,
              "tn": NaN,
              "pred_pos": NaN,
              "pred_neg": NaN,
              "selection_rate": NaN,
              "TPR": NaN,
              "FPR": NaN,
              "PPV": NaN,
              "tpr_ci_low": NaN,
              "tpr_ci_high": NaN,
              "tpr_gap": 0.2425629290617849,
              "tpr_gap_ci_low": 0.08291298073906767,
              "tpr_gap_ci_high": 0.5564896331738436
            }
          ]
        }
      },
      "final_stage": {
        "stage": "baseline",
        "validation_tpr_gap": 0.06666666666666665,
        "validation_tpr_gap_ci": [
          0.04761904761904767,
          0.562723214285714
        ],
        "test_tpr_gap": 0.2425629290617849,
        "test_tpr_gap_ci": [
          0.08291298073906767,
          0.5564896331738436
        ],
        "metrics_validation": [
          {
            "attribute": "smoking_status",
            "group": "formerly smoked",
            "dataset": "validation",
            "stage": "baseline",
            "n_total": 368.0,
            "n_pos": 15.0,
            "n_neg": 353.0,
            "tp": 11.0,
            "fp": 75.0,
            "fn": 4.0,
            "tn": 278.0,
            "pred_pos": 86.0,
            "pred_neg": 282.0,
            "selection_rate": 0.23369565217391305,
            "TPR": 0.7333333333333333,
            "FPR": 0.21246458923512748,
            "PPV": 0.12790697674418605,
            "tpr_ci_low": 0.5,
            "tpr_ci_high": 0.9375,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "smoking_status",
            "group": "never smoked",
            "dataset": "validation",
            "stage": "baseline",
            "n_total": 280.0,
            "n_pos": 15.0,
            "n_neg": 265.0,
            "tp": 10.0,
            "fp": 57.0,
            "fn": 5.0,
            "tn": 208.0,
            "pred_pos": 67.0,
            "pred_neg": 213.0,
            "selection_rate": 0.2392857142857143,
            "TPR": 0.6666666666666666,
            "FPR": 0.21509433962264152,
            "PPV": 0.14925373134328357,
            "tpr_ci_low": 0.42857142857142855,
            "tpr_ci_high": 0.9,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "smoking_status",
            "group": "smokes",
            "dataset": "validation",
            "stage": "baseline",
            "n_total": 119.0,
            "n_pos": 7.0,
            "n_neg": 112.0,
            "tp": 5.0,
            "fp": 14.0,
            "fn": 2.0,
            "tn": 98.0,
            "pred_pos": 19.0,
            "pred_neg": 100.0,
            "selection_rate": 0.15966386554621848,
            "TPR": 0.7142857142857143,
            "FPR": 0.125,
            "PPV": 0.2631578947368421,
            "tpr_ci_low": 0.3333333333333333,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "smoking_status",
            "group": "__GAP__",
            "dataset": "validation",
            "stage": "baseline",
            "n_total": NaN,
            "n_pos": NaN,
            "n_neg": NaN,
            "tp": NaN,
            "fp": NaN,
            "fn": NaN,
            "tn": NaN,
            "pred_pos": NaN,
            "pred_neg": NaN,
            "selection_rate": NaN,
            "TPR": NaN,
            "FPR": NaN,
            "PPV": NaN,
            "tpr_ci_low": NaN,
            "tpr_ci_high": NaN,
            "tpr_gap": 0.06666666666666665,
            "tpr_gap_ci_low": 0.04761904761904767,
            "tpr_gap_ci_high": 0.562723214285714
          }
        ],
        "metrics_test": [
          {
            "attribute": "smoking_status",
            "group": "formerly smoked",
            "dataset": "test",
            "stage": "baseline",
            "n_total": 468.0,
            "n_pos": 23.0,
            "n_neg": 445.0,
            "tp": 15.0,
            "fp": 78.0,
            "fn": 8.0,
            "tn": 367.0,
            "pred_pos": 93.0,
            "pred_neg": 375.0,
            "selection_rate": 0.1987179487179487,
            "TPR": 0.6521739130434783,
            "FPR": 0.1752808988764045,
            "PPV": 0.16129032258064516,
            "tpr_ci_low": 0.45454545454545453,
            "tpr_ci_high": 0.8400526315789473,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "smoking_status",
            "group": "never smoked",
            "dataset": "test",
            "stage": "baseline",
            "n_total": 391.0,
            "n_pos": 19.0,
            "n_neg": 372.0,
            "tp": 17.0,
            "fp": 75.0,
            "fn": 2.0,
            "tn": 297.0,
            "pred_pos": 92.0,
            "pred_neg": 299.0,
            "selection_rate": 0.23529411764705882,
            "TPR": 0.8947368421052632,
            "FPR": 0.20161290322580644,
            "PPV": 0.18478260869565216,
            "tpr_ci_low": 0.7368421052631579,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "smoking_status",
            "group": "smokes",
            "dataset": "test",
            "stage": "baseline",
            "n_total": 163.0,
            "n_pos": 8.0,
            "n_neg": 155.0,
            "tp": 6.0,
            "fp": 31.0,
            "fn": 2.0,
            "tn": 124.0,
            "pred_pos": 37.0,
            "pred_neg": 126.0,
            "selection_rate": 0.22699386503067484,
            "TPR": 0.75,
            "FPR": 0.2,
            "PPV": 0.16216216216216217,
            "tpr_ci_low": 0.39937500000000004,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "smoking_status",
            "group": "__GAP__",
            "dataset": "test",
            "stage": "baseline",
            "n_total": NaN,
            "n_pos": NaN,
            "n_neg": NaN,
            "tp": NaN,
            "fp": NaN,
            "fn": NaN,
            "tn": NaN,
            "pred_pos": NaN,
            "pred_neg": NaN,
            "selection_rate": NaN,
            "TPR": NaN,
            "FPR": NaN,
            "PPV": NaN,
            "tpr_ci_low": NaN,
            "tpr_ci_high": NaN,
            "tpr_gap": 0.2425629290617849,
            "tpr_gap_ci_low": 0.08291298073906767,
            "tpr_gap_ci_high": 0.5564896331738436
          }
        ]
      },
      "history": [
        {
          "constraint": "true_positive_rate_parity",
          "status": "skipped_due_to_data",
          "reason": "gap_below_threshold"
        }
      ]
    },
    {
      "attribute": "work_type",
      "support": {
        "validation": {
          "min_pos": 5,
          "min_neg": 193
        },
        "test": {
          "min_pos": 6,
          "min_neg": 271
        }
      },
      "baseline": {
        "validation": {
          "tpr_gap": 0.11875000000000002,
          "tpr_gap_ci": [
            0.0,
            0.7143973214285714
          ],
          "metrics": [
            {
              "attribute": "work_type",
              "group": "Govt_job",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 198.0,
              "n_pos": 5.0,
              "n_neg": 193.0,
              "tp": 3.0,
              "fp": 18.0,
              "fn": 2.0,
              "tn": 175.0,
              "pred_pos": 21.0,
              "pred_neg": 177.0,
              "selection_rate": 0.10606060606060606,
              "TPR": 0.6,
              "FPR": 0.09326424870466321,
              "PPV": 0.14285714285714285,
              "tpr_ci_low": 0.0,
              "tpr_ci_high": 1.0,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "work_type",
              "group": "Private",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 569.0,
              "n_pos": 32.0,
              "n_neg": 537.0,
              "tp": 23.0,
              "fp": 128.0,
              "fn": 9.0,
              "tn": 409.0,
              "pred_pos": 151.0,
              "pred_neg": 418.0,
              "selection_rate": 0.26537785588752194,
              "TPR": 0.71875,
              "FPR": 0.2383612662942272,
              "PPV": 0.152317880794702,
              "tpr_ci_low": 0.5623263888888889,
              "tpr_ci_high": 0.8710685483870967,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "work_type",
              "group": "__GAP__",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": NaN,
              "n_pos": NaN,
              "n_neg": NaN,
              "tp": NaN,
              "fp": NaN,
              "fn": NaN,
              "tn": NaN,
              "pred_pos": NaN,
              "pred_neg": NaN,
              "selection_rate": NaN,
              "TPR": NaN,
              "FPR": NaN,
              "PPV": NaN,
              "tpr_ci_low": NaN,
              "tpr_ci_high": NaN,
              "tpr_gap": 0.11875000000000002,
              "tpr_gap_ci_low": 0.0,
              "tpr_gap_ci_high": 0.7143973214285714
            }
          ]
        },
        "test": {
          "tpr_gap": 0.10606060606060608,
          "tpr_gap_ci": [
            0.005948920265780711,
            0.5838625015223481
          ],
          "metrics": [
            {
              "attribute": "work_type",
              "group": "Govt_job",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 277.0,
              "n_pos": 6.0,
              "n_neg": 271.0,
              "tp": 4.0,
              "fp": 24.0,
              "fn": 2.0,
              "tn": 247.0,
              "pred_pos": 28.0,
              "pred_neg": 249.0,
              "selection_rate": 0.10108303249097472,
              "TPR": 0.6666666666666666,
              "FPR": 0.08856088560885608,
              "PPV": 0.14285714285714285,
              "tpr_ci_low": 0.2450000000000001,
              "tpr_ci_high": 1.0,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "work_type",
              "group": "Private",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 745.0,
              "n_pos": 44.0,
              "n_neg": 701.0,
              "tp": 34.0,
              "fp": 160.0,
              "fn": 10.0,
              "tn": 541.0,
              "pred_pos": 194.0,
              "pred_neg": 551.0,
              "selection_rate": 0.26040268456375837,
              "TPR": 0.7727272727272727,
              "FPR": 0.2282453637660485,
              "PPV": 0.17525773195876287,
              "tpr_ci_low": 0.6428234501347709,
              "tpr_ci_high": 0.8958733974358974,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "work_type",
              "group": "__GAP__",
              "dataset": "test",
              "stage": "baseline",
              "n_total": NaN,
              "n_pos": NaN,
              "n_neg": NaN,
              "tp": NaN,
              "fp": NaN,
              "fn": NaN,
              "tn": NaN,
              "pred_pos": NaN,
              "pred_neg": NaN,
              "selection_rate": NaN,
              "TPR": NaN,
              "FPR": NaN,
              "PPV": NaN,
              "tpr_ci_low": NaN,
              "tpr_ci_high": NaN,
              "tpr_gap": 0.10606060606060608,
              "tpr_gap_ci_low": 0.005948920265780711,
              "tpr_gap_ci_high": 0.5838625015223481
            }
          ]
        }
      },
      "final_stage": {
        "stage": "post_equal_opportunity",
        "validation_tpr_gap": 0.0625,
        "validation_tpr_gap_ci": [
          0.0,
          0.15000000000000002
        ],
        "test_tpr_gap": 0.007575757575757569,
        "test_tpr_gap_ci": [
          0.005552536231884039,
          0.4184081632653061
        ],
        "metrics_validation": [
          {
            "attribute": "work_type",
            "group": "Govt_job",
            "dataset": "validation",
            "stage": "post_equal_opportunity",
            "n_total": 198.0,
            "n_pos": 5.0,
            "n_neg": 193.0,
            "tp": 5.0,
            "fp": 54.0,
            "fn": 0.0,
            "tn": 139.0,
            "pred_pos": 59.0,
            "pred_neg": 139.0,
            "selection_rate": 0.29797979797979796,
            "TPR": 1.0,
            "FPR": 0.27979274611398963,
            "PPV": 0.0847457627118644,
            "tpr_ci_low": 1.0,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "work_type",
            "group": "Private",
            "dataset": "validation",
            "stage": "post_equal_opportunity",
            "n_total": 569.0,
            "n_pos": 32.0,
            "n_neg": 537.0,
            "tp": 30.0,
            "fp": 201.0,
            "fn": 2.0,
            "tn": 336.0,
            "pred_pos": 231.0,
            "pred_neg": 338.0,
            "selection_rate": 0.40597539543058,
            "TPR": 0.9375,
            "FPR": 0.3743016759776536,
            "PPV": 0.12987012987012986,
            "tpr_ci_low": 0.85,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "work_type",
            "group": "__GAP__",
            "dataset": "validation",
            "stage": "post_equal_opportunity",
            "n_total": NaN,
            "n_pos": NaN,
            "n_neg": NaN,
            "tp": NaN,
            "fp": NaN,
            "fn": NaN,
            "tn": NaN,
            "pred_pos": NaN,
            "pred_neg": NaN,
            "selection_rate": NaN,
            "TPR": NaN,
            "FPR": NaN,
            "PPV": NaN,
            "tpr_ci_low": NaN,
            "tpr_ci_high": NaN,
            "tpr_gap": 0.0625,
            "tpr_gap_ci_low": 0.0,
            "tpr_gap_ci_high": 0.15000000000000002
          }
        ],
        "metrics_test": [
          {
            "attribute": "work_type",
            "group": "Govt_job",
            "dataset": "test",
            "stage": "post_equal_opportunity",
            "n_total": 277.0,
            "n_pos": 6.0,
            "n_neg": 271.0,
            "tp": 5.0,
            "fp": 69.0,
            "fn": 1.0,
            "tn": 202.0,
            "pred_pos": 74.0,
            "pred_neg": 203.0,
            "selection_rate": 0.26714801444043323,
            "TPR": 0.8333333333333334,
            "FPR": 0.25461254612546125,
            "PPV": 0.06756756756756757,
            "tpr_ci_low": 0.42857142857142855,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "work_type",
            "group": "Private",
            "dataset": "test",
            "stage": "post_equal_opportunity",
            "n_total": 745.0,
            "n_pos": 44.0,
            "n_neg": 701.0,
            "tp": 37.0,
            "fp": 259.0,
            "fn": 7.0,
            "tn": 442.0,
            "pred_pos": 296.0,
            "pred_neg": 449.0,
            "selection_rate": 0.39731543624161075,
            "TPR": 0.8409090909090909,
            "FPR": 0.369472182596291,
            "PPV": 0.125,
            "tpr_ci_low": 0.7233424047501238,
            "tpr_ci_high": 0.948780487804878,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "work_type",
            "group": "__GAP__",
            "dataset": "test",
            "stage": "post_equal_opportunity",
            "n_total": NaN,
            "n_pos": NaN,
            "n_neg": NaN,
            "tp": NaN,
            "fp": NaN,
            "fn": NaN,
            "tn": NaN,
            "pred_pos": NaN,
            "pred_neg": NaN,
            "selection_rate": NaN,
            "TPR": NaN,
            "FPR": NaN,
            "PPV": NaN,
            "tpr_ci_low": NaN,
            "tpr_ci_high": NaN,
            "tpr_gap": 0.007575757575757569,
            "tpr_gap_ci_low": 0.005552536231884039,
            "tpr_gap_ci_high": 0.4184081632653061
          }
        ]
      },
      "history": [
        {
          "constraint": "true_positive_rate_parity",
          "status": "applied",
          "validation_tpr_gap": 0.0625,
          "validation_tpr_gap_ci": [
            0.0,
            0.15000000000000002
          ],
          "test_tpr_gap": 0.007575757575757569,
          "test_tpr_gap_ci": [
            0.005552536231884039,
            0.4184081632653061
          ]
        },
        {
          "constraint": "equalized_odds",
          "status": "skipped_due_to_data",
          "reason": "insufficient_support"
        }
      ]
    },
    {
      "attribute": "is_elderly",
      "support": {
        "validation": {
          "min_pos": 13,
          "min_neg": 131
        },
        "test": {
          "min_pos": 15,
          "min_neg": 165
        }
      },
      "baseline": {
        "validation": {
          "tpr_gap": 0.49038461538461536,
          "tpr_gap_ci": [
            0.1568542199488491,
            0.7951357466063347
          ],
          "metrics": [
            {
              "attribute": "is_elderly",
              "group": "0",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 612.0,
              "n_pos": 13.0,
              "n_neg": 599.0,
              "tp": 5.0,
              "fp": 29.0,
              "fn": 8.0,
              "tn": 570.0,
              "pred_pos": 34.0,
              "pred_neg": 578.0,
              "selection_rate": 0.05555555555555555,
              "TPR": 0.38461538461538464,
              "FPR": 0.048414023372287146,
              "PPV": 0.14705882352941177,
              "tpr_ci_low": 0.12481617647058825,
              "tpr_ci_high": 0.6666666666666666,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "is_elderly",
              "group": "1",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": 155.0,
              "n_pos": 24.0,
              "n_neg": 131.0,
              "tp": 21.0,
              "fp": 117.0,
              "fn": 3.0,
              "tn": 14.0,
              "pred_pos": 138.0,
              "pred_neg": 17.0,
              "selection_rate": 0.8903225806451613,
              "TPR": 0.875,
              "FPR": 0.8931297709923665,
              "PPV": 0.15217391304347827,
              "tpr_ci_low": 0.7222222222222222,
              "tpr_ci_high": 1.0,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "is_elderly",
              "group": "__GAP__",
              "dataset": "validation",
              "stage": "baseline",
              "n_total": NaN,
              "n_pos": NaN,
              "n_neg": NaN,
              "tp": NaN,
              "fp": NaN,
              "fn": NaN,
              "tn": NaN,
              "pred_pos": NaN,
              "pred_neg": NaN,
              "selection_rate": NaN,
              "TPR": NaN,
              "FPR": NaN,
              "PPV": NaN,
              "tpr_ci_low": NaN,
              "tpr_ci_high": NaN,
              "tpr_gap": 0.49038461538461536,
              "tpr_gap_ci_low": 0.1568542199488491,
              "tpr_gap_ci_high": 0.7951357466063347
            }
          ]
        },
        "test": {
          "tpr_gap": 0.8,
          "tpr_gap_ci": [
            0.5832236842105263,
            1.0
          ],
          "metrics": [
            {
              "attribute": "is_elderly",
              "group": "0",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 822.0,
              "n_pos": 15.0,
              "n_neg": 807.0,
              "tp": 3.0,
              "fp": 38.0,
              "fn": 12.0,
              "tn": 769.0,
              "pred_pos": 41.0,
              "pred_neg": 781.0,
              "selection_rate": 0.049878345498783457,
              "TPR": 0.2,
              "FPR": 0.04708798017348203,
              "PPV": 0.07317073170731707,
              "tpr_ci_low": 0.0,
              "tpr_ci_high": 0.4167763157894736,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "is_elderly",
              "group": "1",
              "dataset": "test",
              "stage": "baseline",
              "n_total": 200.0,
              "n_pos": 35.0,
              "n_neg": 165.0,
              "tp": 35.0,
              "fp": 146.0,
              "fn": 0.0,
              "tn": 19.0,
              "pred_pos": 181.0,
              "pred_neg": 19.0,
              "selection_rate": 0.905,
              "TPR": 1.0,
              "FPR": 0.8848484848484849,
              "PPV": 0.19337016574585636,
              "tpr_ci_low": 1.0,
              "tpr_ci_high": 1.0,
              "tpr_gap": NaN,
              "tpr_gap_ci_low": NaN,
              "tpr_gap_ci_high": NaN
            },
            {
              "attribute": "is_elderly",
              "group": "__GAP__",
              "dataset": "test",
              "stage": "baseline",
              "n_total": NaN,
              "n_pos": NaN,
              "n_neg": NaN,
              "tp": NaN,
              "fp": NaN,
              "fn": NaN,
              "tn": NaN,
              "pred_pos": NaN,
              "pred_neg": NaN,
              "selection_rate": NaN,
              "TPR": NaN,
              "FPR": NaN,
              "PPV": NaN,
              "tpr_ci_low": NaN,
              "tpr_ci_high": NaN,
              "tpr_gap": 0.8,
              "tpr_gap_ci_low": 0.5832236842105263,
              "tpr_gap_ci_high": 1.0
            }
          ]
        }
      },
      "final_stage": {
        "stage": "post_equal_opportunity",
        "validation_tpr_gap": 0.0,
        "validation_tpr_gap_ci": [
          0.0,
          0.0
        ],
        "test_tpr_gap": 0.4666666666666667,
        "test_tpr_gap_ci": [
          0.2141917293233083,
          0.7144841269841268
        ],
        "metrics_validation": [
          {
            "attribute": "is_elderly",
            "group": "0",
            "dataset": "validation",
            "stage": "post_equal_opportunity",
            "n_total": 612.0,
            "n_pos": 13.0,
            "n_neg": 599.0,
            "tp": 13.0,
            "fp": 228.0,
            "fn": 0.0,
            "tn": 371.0,
            "pred_pos": 241.0,
            "pred_neg": 371.0,
            "selection_rate": 0.3937908496732026,
            "TPR": 1.0,
            "FPR": 0.3806343906510851,
            "PPV": 0.05394190871369295,
            "tpr_ci_low": 1.0,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "is_elderly",
            "group": "1",
            "dataset": "validation",
            "stage": "post_equal_opportunity",
            "n_total": 155.0,
            "n_pos": 24.0,
            "n_neg": 131.0,
            "tp": 24.0,
            "fp": 130.0,
            "fn": 0.0,
            "tn": 1.0,
            "pred_pos": 154.0,
            "pred_neg": 1.0,
            "selection_rate": 0.9935483870967742,
            "TPR": 1.0,
            "FPR": 0.9923664122137404,
            "PPV": 0.15584415584415584,
            "tpr_ci_low": 1.0,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "is_elderly",
            "group": "__GAP__",
            "dataset": "validation",
            "stage": "post_equal_opportunity",
            "n_total": NaN,
            "n_pos": NaN,
            "n_neg": NaN,
            "tp": NaN,
            "fp": NaN,
            "fn": NaN,
            "tn": NaN,
            "pred_pos": NaN,
            "pred_neg": NaN,
            "selection_rate": NaN,
            "TPR": NaN,
            "FPR": NaN,
            "PPV": NaN,
            "tpr_ci_low": NaN,
            "tpr_ci_high": NaN,
            "tpr_gap": 0.0,
            "tpr_gap_ci_low": 0.0,
            "tpr_gap_ci_high": 0.0
          }
        ],
        "metrics_test": [
          {
            "attribute": "is_elderly",
            "group": "0",
            "dataset": "test",
            "stage": "post_equal_opportunity",
            "n_total": 822.0,
            "n_pos": 15.0,
            "n_neg": 807.0,
            "tp": 8.0,
            "fp": 285.0,
            "fn": 7.0,
            "tn": 522.0,
            "pred_pos": 293.0,
            "pred_neg": 529.0,
            "selection_rate": 0.3564476885644769,
            "TPR": 0.5333333333333333,
            "FPR": 0.35315985130111527,
            "PPV": 0.027303754266211604,
            "tpr_ci_low": 0.285515873015873,
            "tpr_ci_high": 0.7858082706766917,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "is_elderly",
            "group": "1",
            "dataset": "test",
            "stage": "post_equal_opportunity",
            "n_total": 200.0,
            "n_pos": 35.0,
            "n_neg": 165.0,
            "tp": 35.0,
            "fp": 165.0,
            "fn": 0.0,
            "tn": 0.0,
            "pred_pos": 200.0,
            "pred_neg": 0.0,
            "selection_rate": 1.0,
            "TPR": 1.0,
            "FPR": 1.0,
            "PPV": 0.175,
            "tpr_ci_low": 1.0,
            "tpr_ci_high": 1.0,
            "tpr_gap": NaN,
            "tpr_gap_ci_low": NaN,
            "tpr_gap_ci_high": NaN
          },
          {
            "attribute": "is_elderly",
            "group": "__GAP__",
            "dataset": "test",
            "stage": "post_equal_opportunity",
            "n_total": NaN,
            "n_pos": NaN,
            "n_neg": NaN,
            "tp": NaN,
            "fp": NaN,
            "fn": NaN,
            "tn": NaN,
            "pred_pos": NaN,
            "pred_neg": NaN,
            "selection_rate": NaN,
            "TPR": NaN,
            "FPR": NaN,
            "PPV": NaN,
            "tpr_ci_low": NaN,
            "tpr_ci_high": NaN,
            "tpr_gap": 0.4666666666666667,
            "tpr_gap_ci_low": 0.2141917293233083,
            "tpr_gap_ci_high": 0.7144841269841268
          }
        ]
      },
      "history": [
        {
          "constraint": "true_positive_rate_parity",
          "status": "applied",
          "validation_tpr_gap": 0.0,
          "validation_tpr_gap_ci": [
            0.0,
            0.0
          ],
          "test_tpr_gap": 0.4666666666666667,
          "test_tpr_gap_ci": [
            0.2141917293233083,
            0.7144841269841268
          ]
        },
        {
          "constraint": "equalized_odds",
          "status": "skipped_due_to_data",
          "reason": "insufficient_support"
        }
      ]
    }
  ],
  "alerts": [
    "Residence_type: post-stage post_equal_opportunity test TPR-gap=0.150 [0.008, 0.357]",
    "gender: post-stage baseline test TPR-gap=0.161 [0.009, 0.426]",
    "smoking_status: post-stage baseline test TPR-gap=0.243 [0.083, 0.556]",
    "is_elderly: post-stage post_equal_opportunity test TPR-gap=0.467 [0.214, 0.714]"
  ]
}